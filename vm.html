<!DOCTYPE html>
<html>
  <head>
    <title>JSPC - VM</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.0/css/bulma.min.css"
      integrity="sha512-ADrqa2PY1TZtb/MoLZIZu/Z/LlPaWQeDMBV73EMwjGam43/JJ5fqW38Rq8LJOVGCDfrJeOMS3Q/wRUVzW5DkjQ=="
      crossorigin="anonymous"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.14.5/xterm.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.14.5/xterm.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/jquery.terminal/js/jquery.terminal.min.js"></script>

    <link
      href="https://cdn.jsdelivr.net/npm/jquery.terminal/css/jquery.terminal.min.css"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/js-polyfills/keyboard.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/jcubic/static/js/wcwidth.js"></script>
  </head>
  <body>
    <div
      id="terminal"
      style="position:relative; width:100%; height:100%"
      class="Terminal"
    ></div>
    <script>
      jQuery(function($, undefined) {
        $("#terminal").terminal(
          function(command) {
            if (command !== "") {
              try {
                var result = window.eval(command);
                if (result !== undefined) {
                  this.echo(new String(result));
                }
              } catch (e) {
                this.error(new String(e));
              }
            } else {
              this.echo("");
            }
          },
          {
            greetings: "JavaScript Interpreter",
            name: "js_demo",
            height: 200,
            prompt: "js> "
          }
        );
      });
    </script>
    <script>
      //var term = new Terminal();
      //term.open(document.getElementById("terminal"));
      //term.write(
      // "Welcome to JSOS. To view the installed programs type programs"
      // );
      // term.on("key", (key, ev) => {
      //   console.log(key.charCodeAt(0));
      //  if (key.charCodeAt(0) == 13) term.write("\n");
      // term.write(key);
      // });
      //term.on("data", data => {});
    </script>
  </body>
</html>
